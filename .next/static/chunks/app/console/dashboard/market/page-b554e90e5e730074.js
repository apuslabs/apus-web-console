(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{776:function(e,s,t){Promise.resolve().then(t.bind(t,51837))},51837:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return k}});var a=t(57437),l=t(8246),n=t(38819),i=t(2265),r=t(42333),c=t(23157),d=t(25973),o=t(80568),m=t(79404),x=t(33071),u=t(74548),h=t.n(u),f=t(43581),v=t(39411),p=t(76687),j=t(71424),b={src:"/_next/static/media/file-type-docker.1ade3162.svg"},N=t(16691),g=t.n(N),y=t(24033);function k(){var e;let[s,t]=(0,i.useState)(200),{data:u,mutate:N}=(0,r.ZP)(["/apus_network/server/market/list",{offset:0,limit:9999}],c.p),{accountContract:k,helperContract:w,account:C}=(0,i.useContext)(v.lr),_=(0,y.useRouter)(),{isRenting:Z,rent:I}=(0,p.bh)(w),[D]=(0,f.Z)(),[E,O]=(0,i.useState)(!1),[S,A]=(0,i.useState)(),[R,T]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"22.5rem 1fr"},children:[(0,a.jsx)("div",{className:" bg-accent flex flex-col p-5",children:(0,a.jsxs)("div",{className:"bg-default p-4 flex flex-col gap-3 rounded-2xl",children:[(0,a.jsx)("div",{className:"font-medium text-xl",children:"Instance Configuration"}),[{label:"Image:",item:"Pytorch 2.0.1"},{label:"Image CUDA version:",item:"11.7"},{label:"Launch Type:",item:"jupyter"}].map(e=>{let{label:s,item:t}=e;return(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"mr-2 text-secondary",children:s}),(0,a.jsx)("span",{className:"text-main font-medium",children:t})]},s)}),(0,a.jsx)(l.Z,{className:"mt-4 text-center text-base font-medium h-14 rounded-7",onClick:()=>{T(!0)},children:"CHOOSE IMAGE"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:" text-secondary",children:"Disk Space To Allocate"}),(0,a.jsxs)("div",{className:"font-medium text-main",children:[s," GB"]})]}),(0,a.jsx)(n.Z,{value:s,onChange:(e,s)=>{t(s)},valueLabelDisplay:"auto",step:50,min:100,max:1e4})]})]})}),(0,a.jsx)("div",{className:"p-5",children:null==u?void 0:null===(e=u.data)||void 0===e?void 0:e.map((e,s)=>(0,a.jsx)(d.uY,{...e,onRent:e=>{A(e),O(!0)}},s))}),(0,a.jsx)(x.Z,{title:"Rent Instance",open:E,confirmLoading:Z,okText:"rent",onOk:async()=>{let{endDate:e}=await D.validateFields();try{S&&(await I(C,S.market_id,e),O(!1),j.A.success("Rent success"),_.push("/console/dashboard/instances"))}catch(e){j.A.error("Rent failed")}},onCancel:()=>{O(!1)},children:(0,a.jsx)(m.Z,{form:D,children:(0,a.jsx)(m.Z.Item,{label:"End Date",name:"endDate",required:!0,children:(0,a.jsx)(o.Z,{disabledDate:e=>e&&e<h()().endOf("day")})})})}),(0,a.jsx)(x.Z,{title:"Image Templates",open:R,footer:null,onCancel:()=>{T(!1)},children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(l.Z,{variant:"soft",color:"primary",onClick:()=>{T(!1)},children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-main w-full",children:[(0,a.jsx)(g(),{src:b.src,width:64,height:64,alt:"docker icon"}),(0,a.jsx)("div",{className:"flex-1 text-primary font-semibold text-left",children:"runpod/stable-diffusion:web-ui-10.2.1"}),(0,a.jsx)("div",{children:"ssh/jupyter"})]}),(0,a.jsx)("div",{className:"rounded-lg border border-solid border-slate-200 p-2",children:"env | grep >> /etc/environment; touch ~/.no_auto_tmux; sleep 5;\nsed -i '/rsync -au --remove-source-files /venv/ /workspace/venv//a source /workspace/venv/bin/activate\n pip install jupyter_core' /start.sh;\n/start.sh"})]})}),(0,a.jsx)(l.Z,{variant:"outlined",color:"primary",disabled:!0,children:(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-main",children:[(0,a.jsx)(g(),{src:b.src,width:64,height:64,alt:"docker icon"}),(0,a.jsx)("div",{className:"flex-1 text-primary font-semibold text-left",children:"cuda:12.0.1-devel-ubuntu20.04"}),(0,a.jsx)("div",{children:"ssh/jupyter"})]}),(0,a.jsx)("div",{className:" rounded-lg border border-solid border-slate-200 p-2",children:"None"})]})})]})})]})}}},function(e){e.O(0,[773,987,356,691,273,374,110,901,7,455,387,973,971,596,744],function(){return e(e.s=776)}),_N_E=e.O()}]);