(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{43581:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var l=n(64691),r=n(2265);let i=e=>"object"==typeof e&&null!=e&&1===e.nodeType,o=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,s=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return o(n.overflowY,t)||o(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},a=(e,t,n,l,r,i,o,s)=>i<e&&o>t||i>e&&o<t?0:i<=e&&s<=n||o>=t&&s>=n?i-e-l:o>t&&s<n||i<e&&s>n?o-t+r:0,c=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},d=(e,t)=>{var n,l,r,o;if("undefined"==typeof document)return[];let{scrollMode:d,block:u,inline:f,boundary:h,skipOverflowHiddenElements:m}=t,p="function"==typeof h?h:e=>e!==h;if(!i(e))throw TypeError("Invalid target");let x=document.scrollingElement||document.documentElement,g=[],b=e;for(;i(b)&&p(b);){if((b=c(b))===x){g.push(b);break}null!=b&&b===document.body&&s(b)&&!s(document.documentElement)||null!=b&&s(b,m)&&g.push(b)}let j=null!=(l=null==(n=window.visualViewport)?void 0:n.width)?l:innerWidth,v=null!=(o=null==(r=window.visualViewport)?void 0:r.height)?o:innerHeight,{scrollX:w,scrollY:y}=window,{height:N,width:_,top:W,right:k,bottom:C,left:E}=e.getBoundingClientRect(),H="start"===u||"nearest"===u?W:"end"===u?C:W+N/2,T="center"===f?E+_/2:"end"===f?k:E,Z=[];for(let e=0;e<g.length;e++){let t=g[e],{height:n,width:l,top:r,right:i,bottom:o,left:s}=t.getBoundingClientRect();if("if-needed"===d&&W>=0&&E>=0&&C<=v&&k<=j&&W>=r&&C<=o&&E>=s&&k<=i)break;let c=getComputedStyle(t),h=parseInt(c.borderLeftWidth,10),m=parseInt(c.borderTopWidth,10),p=parseInt(c.borderRightWidth,10),b=parseInt(c.borderBottomWidth,10),I=0,A=0,O="offsetWidth"in t?t.offsetWidth-t.clientWidth-h-p:0,F="offsetHeight"in t?t.offsetHeight-t.clientHeight-m-b:0,M="offsetWidth"in t?0===t.offsetWidth?0:l/t.offsetWidth:0,R="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(x===t)I="start"===u?H:"end"===u?H-v:"nearest"===u?a(y,y+v,v,m,b,y+H,y+H+N,N):H-v/2,A="start"===f?T:"center"===f?T-j/2:"end"===f?T-j:a(w,w+j,j,h,p,w+T,w+T+_,_),I=Math.max(0,I+y),A=Math.max(0,A+w);else{I="start"===u?H-r-m:"end"===u?H-o+b+F:"nearest"===u?a(r,o,n,m,b+F,H,H+N,N):H-(r+n/2)+F/2,A="start"===f?T-s-h:"center"===f?T-(s+l/2)+O/2:"end"===f?T-i+p+O:a(s,i,l,h,p+O,T,T+_,_);let{scrollLeft:e,scrollTop:c}=t;I=Math.max(0,Math.min(c+I/R,t.scrollHeight-n/R+F)),A=Math.max(0,Math.min(e+A/M,t.scrollWidth-l/M+O)),H+=c-I,T+=e-A}Z.push({el:t,top:I,left:A})}return Z},u=e=>!1===e?{block:"end",inline:"nearest"}:e===Object(e)&&0!==Object.keys(e).length?e:{block:"start",inline:"nearest"},f=["parentNode"];function h(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function m(e){let t=h(e);return t.join("_")}function p(e){let[t]=(0,l.useForm)(),n=r.useRef({}),i=r.useMemo(()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{let l=m(e);t?n.current[l]=t:delete n.current[l]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h(e),l=function(e,t){if(!e.length)return;let n=e.join("_");if(t)return`${t}_${n}`;let l=f.includes(n);return l?`form_item_${n}`:n}(n,i.__INTERNAL__.name),r=l?document.getElementById(l):null;r&&function(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(d(e,t));let n="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:l,top:r,left:i}of d(e,u(t)))l.scroll({top:r,left:i,behavior:n})}(r,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:e=>{let t=m(e);return n.current[t]}}),[e,t]);return[i]}},31916:function(e,t,n){Promise.resolve().then(n.bind(n,18796))},18796:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var l=n(57437),r=n(93964),i=n(76687),o=n(39411),s=n(8246),a=n(79404),c=n(54760),d=n(33071),u=n(43581),f=n(2265),h=n(71424);function m(){let{account:e,balance:t,accountInfo:n,isProvider:m,refreshAccount:p,accountContract:x,refreshAccountInfo:g}=(0,f.useContext)(o.lr),{stake:b,isStaking:j}=(0,i.e2)(x),{unstake:v,isUnStaking:w}=(0,i.ql)(x),y=[{label:"Contract Balance",value:n.balance},{label:"Tenant Stake Funds",value:n.recipient_blocked_funds}];m&&y.push({label:"Provider Stake Funds",value:n.provider_blocked_funds});let[N,_]=(0,f.useState)(!1),[W,k]=(0,f.useState)(!1),[C]=(0,u.Z)(),E=async()=>{let{amount:t}=await C.validateFields();try{await b(e,t),_(!1),p(),g(),C.resetFields(),h.A.success("Top up success")}catch(e){console.log(e),h.A.error("Top up failed")}},H=async()=>{let{amount:t}=await C.validateFields();try{await v(e,t),k(!1),C.resetFields(),p(),g(),h.A.success("Withdraw success")}catch(e){console.log(e),h.A.error("Withdraw failed")}};return(0,l.jsxs)("section",{className:"pt-16 flex flex-col items-center",children:[(0,l.jsx)(r.Z,{account:e,className:"mb-6"}),(0,l.jsx)("div",{className:"flex fle-col items-center mb-14",children:(0,l.jsxs)("span",{className:"text-4xl text-main font-semibold",children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{className:"text-2xl font-medium",children:" ETH"})]})}),(0,l.jsx)("div",{className:"flex gap-14",children:y.map(e=>{let{label:t,value:n}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,l.jsx)("span",{className:"text-sm text-main",children:t}),(0,l.jsxs)("span",{className:"text-base text-secondary",children:[n," ETH"]})]},t)})}),(0,l.jsxs)("div",{className:"flex gap-8 mt-20",children:[(0,l.jsx)(s.Z,{color:"primary",variant:"outlined",onClick:()=>{_(!0)},children:"Top UP"}),(0,l.jsx)(s.Z,{color:"primary",onClick:()=>{k(!0)},children:"Withdraw"})]}),(0,l.jsx)(d.Z,{title:"Top Up",open:N,confirmLoading:j,onOk:E,onCancel:()=>{_(!1)},children:(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsx)(a.Z,{form:C,layout:"vertical",children:(0,l.jsx)(a.Z.Item,{label:"top up amount",required:!0,name:"amount",children:(0,l.jsx)(c.Z,{min:"0",max:t,step:"0.00000000000001",placeholder:"0.0",rootClassName:"w-full"})})})})})}),(0,l.jsx)(d.Z,{title:"Withdraw",open:W,confirmLoading:w,onOk:H,onCancel:()=>{k(!1)},children:(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"text-main font-semibold text-lg",children:"Withdraw Amount"}),(0,l.jsx)(a.Z,{form:C,layout:"vertical",children:(0,l.jsx)(a.Z.Item,{label:"withdraw amount",required:!0,name:"amount",rules:[{required:!0,message:"Please input withdraw amount"}],children:(0,l.jsx)(c.Z,{min:"0",max:n.balance,step:"0.00000000000001",placeholder:"0.0",rootClassName:"w-full"})})})]})})})]})}},93964:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var l=n(57437),r=n(11863),i=n(71424),o=n(54440),s=n.n(o),a=n(86781);function c(e){let{account:t,className:n}=e;return(0,l.jsxs)("div",{className:s()("flex justify-between items-center bg-light text-primary px-4 py-2 h-10 rounded-5 leading-none",n),children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{className:"inline-flex ml-2 cursor-pointer",children:(0,l.jsx)(a.CopyToClipboard,{text:t,onCopy:()=>{i.A.success("Copied Successfully")},children:(0,l.jsx)(r.Z,{width:20,height:20,color:"primary"})})})]})}}},function(e){e.O(0,[773,987,356,273,374,110,901,760,387,971,596,744],function(){return e(e.s=31916)}),_N_E=e.O()}]);