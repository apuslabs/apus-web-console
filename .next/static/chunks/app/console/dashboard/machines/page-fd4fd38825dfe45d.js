(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{21578:function(e,r,s){Promise.resolve().then(s.bind(s,8555))},8555:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return v}});var i=s(57437),t=s(25973),a=s(39411),l=s(23157),d=s(8246),n=s(2265),o=s(42333),c=s(54760),m=s(79404),u=s(80568),x=s(33071),h=s(74548),p=s.n(h),b=s(76687),f=s(71424);function v(){var e;let{account:r,helperContract:s}=(0,n.useContext)(a.lr),[h,v]=(0,n.useState)(null),[j,w]=(0,n.useState)(!1),{data:N,mutate:Z}=(0,o.ZP)(r?["/apus_network/server/provider/list",{address:r}]:null,l.p),[y]=m.Z.useForm(),[_]=m.Z.useForm(),{unList:g,isUnListing:C}=(0,b.wt)(s),{online:L,isOnlining:k}=(0,b.sd)(s),P=async()=>{try{if(null!==h){let e=await y.validateFields(),{endDate:s}=await _.validateFields();await L(r,h.machine_id,h.contract_server_info,e,s),await Z(),f.A.success("List success")}}catch(e){f.A.error("List failed")}finally{w(!1)}};return(0,i.jsxs)("section",{className:"p-5",children:[null==N?void 0:null===(e=N.data)||void 0===e?void 0:e.map((e,s)=>(0,i.jsx)(t.Qq,{...e,onList:e=>{v(e),w(!0)},onUnList:async e=>{await g(r,e.market_id),await Z(),f.A.success("Unlist success")},isLoading:C},s)),(0,i.jsx)(x.Z,{title:"List Instance",width:"59rem",confirmLoading:k,open:j,onOk:P,onCancel:()=>{w(!1)},children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"my-4 border-0 border-l-4 border-solid border-primary pl-4 font-bold text-xl text-main",children:"SLA Level"}),(0,i.jsx)("div",{className:"flex flex-row gap-4",children:[{item:"Bronze",desc:"99% uptime, 8 hours response time, 16 hours resolution time",disabled:!1,variant:"soft"},{item:"Silver",desc:"99.5% uptime, 4 hours response time, 8 hours resolution time",disabled:!0,variant:"outlined"},{item:"Gold",desc:"99.9% uptime, 2 hours response time, 4 hours resolution time",disabled:!0,variant:"outlined"}].map(e=>{let{item:r,desc:s,disabled:t,variant:a}=e;return(0,i.jsx)(d.Z,{variant:a,color:"primary",disabled:t,children:(0,i.jsxs)("div",{className:"flex flex-col w-64",children:[(0,i.jsx)("div",{className:"text-primary text-lg font-medium",children:r}),(0,i.jsx)("div",{className:" text-secondary text-base",children:s})]})},r)})}),(0,i.jsx)("div",{className:"my-4 border-0 border-l-4 border-solid border-primary pl-4 font-bold text-xl text-main",children:"Price"}),(0,i.jsxs)(m.Z,{layout:"vertical",rootClassName:"grid grid-cols-2 gap-2",form:y,children:[(0,i.jsx)(m.Z.Item,{label:"Server Price (eth/s)",name:"server_price",required:!0,children:(0,i.jsx)(c.Z,{min:"0",max:"10",step:"0.00000000000001",rootClassName:"w-full"})}),(0,i.jsx)(m.Z.Item,{label:"Storage Price (eth/G*s)",name:"storage_price",required:!0,children:(0,i.jsx)(c.Z,{min:"0",max:"10",step:"0.00000000000001",rootClassName:"w-full"})}),(0,i.jsx)(m.Z.Item,{label:"Up Bandwidth Price (eth/MB)",name:"upband_width",required:!0,children:(0,i.jsx)(c.Z,{min:"0",max:"10",step:"0.00000000000001",rootClassName:"w-full"})}),(0,i.jsx)(m.Z.Item,{label:"Down Bandwidth Price (eth/MB)",name:"downband_width",required:!0,children:(0,i.jsx)(c.Z,{min:"0",max:"10",step:"0.00000000000001",rootClassName:"w-full"})})]}),(0,i.jsx)("div",{className:"my-4 border-0 border-l-4 border-solid border-primary pl-4 font-bold text-xl text-main",children:"List Duration"}),(0,i.jsx)(m.Z,{layout:"vertical",rootClassName:"grid grid-cols-2 gap-2",form:_,children:(0,i.jsx)(m.Z.Item,{label:"End Date",name:"endDate",required:!0,children:(0,i.jsx)(u.Z,{disabledDate:e=>e&&e<p()().endOf("day")})})})]})})]})}}},function(e){e.O(0,[773,987,356,691,273,374,110,901,7,760,387,973,971,596,744],function(){return e(e.s=21578)}),_N_E=e.O()}]);